class JHttp{constructor(){let t=this;$(document).on("click","a.ajax",function(a){var e=$(this).attr("data-ajax-href")||$(this).attr("href");$(this).attr("data-ajax-return")&&(t.ajax(e,(t,a)=>{a.self=$(this),window.history.pushState(null,"",$(this).attr("href")),window[$(this).attr("data-ajax-return")](t,a)}),a.preventDefault())}),$(document).on("submit","form.ajax",function(a){if($(this).attr("data-ajax-return")){let e=$('button[type="submit"]',this),s=e.html();e.html('<i class="fa-solid fa-cog fa-spin"></i>'),e.addClass("disabled"),t.request(a.target.action,$(this).serialize(),(t,a)=>{e.html(s),e.removeClass("disabled"),window[$(this).attr("data-ajax-return")](t,a)}),a.preventDefault()}})}ajax(t,a){this.request(t,(t,e)=>{a(t,e)})}get(t,a=null){var e={};try{let s=new URL(t);e.baseURL=s.protocol+"//"+s.host,t=t.split(e.baseURL)[1]}catch(r){}return axios.create(e).get(t).then(t=>a?a(!1,t.data):t.data).catch(t=>a?a(!0,t.response):t.response)}request(t,a=null,e=null){let s="get",r=!1,l={};"function"===type_of(a)?(e=a,a=null):"string"===type_of(a)&&(s="post"),axios.defaults.headers.common.Ajax=!0,axios[s](t,a).then(t=>{l=t,r=null}).catch(t=>{l=null}).finally(()=>{e(r,l)})}}