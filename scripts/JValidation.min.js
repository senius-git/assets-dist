class JValidation{constructor(){this.needsValidation()}setInputFilter(t,e,i){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop","focusout"].forEach(function(s){t.addEventListener(s,function(t){e(this.value)?(["keydown","mousedown","focusout"].indexOf(t.type)>=0&&(this.classList.remove("input-error"),this.setCustomValidity("")),this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.classList.add("input-error"),this.setCustomValidity(i),this.reportValidity(),this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})}needsValidation(){$(document).on("submit","form.needs-validation",function(t){this.checkValidity()||(t.preventDefault(),t.stopPropagation()),$(this).addClass("was-validated")})}}